---
- name: Install which
  pacman:
    name: which
    state: present
  become: true
    
- name: Install base-devel tools
  pacman:
    name: base-devel
    state: present
  become: true

- name: Install dash for faster sh scripts
  pacman:
    name: dash
    state: present
  become: true
  
- name: Ensures dash is used for shell scripts instead of bash
  file:
    src: "/usr/bin/dash"
    dest: "/usr/bin/sh"
    state: link
    force: yes
  become: true

- name: Install basic network utils such as hostname
  pacman:
    name: inetutils
    state: present
  become: true

- name: Install ipcalc
  pacman:
    name: ipcalc
    state: present
  become: true

- name: Install Paru package manager
  aur: 
    name: paru

- name: Make sure config folder exists 
  ansible.builtin.file:
    path: "{{ lookup( 'env', 'HOME' ) }}/.config"
    state: directory
    mode: '0755'

- name: Make sure cache folder exists 
  ansible.builtin.file:
    path: "{{ lookup( 'env', 'HOME' ) }}/.cache"
    state: directory
    mode: '0755'
    
- name: Make sure local folder exists 
  ansible.builtin.file:
    path: "{{ lookup( 'env', 'HOME' ) }}/.local"
    state: directory
    mode: '0755'

- name: Make sure bin folder exists 
  ansible.builtin.file:
    path: "{{ lookup( 'env', 'HOME' ) }}/.local/bin"
    state: directory
    mode: '0755'

- name: Make sure share folder exists 
  ansible.builtin.file:
    path: "{{ lookup( 'env', 'HOME' ) }}/.local/share"
    state: directory
    mode: '0755'
